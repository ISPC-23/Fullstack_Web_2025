
<main>
  @if (loading) {
    <app-loading></app-loading>
  } @else {
    <article class="product-section">
      <div class="image-controls-container">
        <img
          [src]="bike.imagen"
          [alt]="bike.marca"
          class="bike-image"
        />

        @if (isLoggedIn) {
          <div class="cantidad-input">
            <label for="cantidad" class="form-label">
              Cantidad:
              <input
                name="cantidad"
                type="number"
                min="1"
                [max]="bike.stock"
                value="1"
                [(ngModel)]="cantidad"
              />
            </label>
          </div>

          <button
            type="button"
            class="btn-agregar"
            (click)="addItemCart(bike.id)"
          >
            ðŸ›’ Agregar al carrito
          </button>
        }
      </div>

      <div class="detail-section">
        <h1>{{ bike.marca_descripcion }} {{ bike.modelo }}</h1>
        <h2 class="price">
          {{ bike.precio | currency : "$" : "symbol" : "1.2-2" }}
        </h2>
        <div>
          <h2>Detalles</h2>
          <ul>
            <li><b>Material:</b> {{ bike.material_descripcion }}</li>
            <li><b>Marca:</b> {{ bike.marca_descripcion }}</li>
            <li><b>Estilo:</b> {{ bike.estilo_descripcion }}</li>
            <li><b>Color:</b> {{ bike.color_descripcion }}</li>
            <li><b>Rodado:</b> {{ bike.rodado_descripcion }}</li>
          </ul>
        </div>
        <div>
          <h2>DescripciÃ³n</h2>
          <p class="description">{{ bike.detalle }}</p>
        </div>
      </div>
    </article>
  }
</main>